{% extends 'base.html' %}

{% block title %}詳細表示{% endblock %}

{% block content %}
<div class="detail-container">

  <h2 class="detail-title">詳細表示</h2>

  <div class="detail-item">
    <label>名前</label>
    <div class="detail-box">
      {{ student.student_name }}
    </div>
  </div>



  <div class="detail-item">
    <label>時間</label>
    <div class="detail-box">
      {% if attendance %}
      {{ attendance.time|date:"Y-m-d H:i" }}
      {% else %}
      -
      {% endif %}
    </div>
  </div>


  <div class="detail-item">
    <label>項目</label>
    <div class="detail-box">
      {% if attendance %}
      {{ attendance.get_status_display }}
      {% else %}
      -
      {% endif %}
    </div>
  </div>

  <div class="detail-item">
    <label>理由</label>
    <div class="detail-box">
      {% if attendance %}
      {{ attendance.reason|linebreaks }}
      {% else %}
      -
      {% endif %}
    </div>
  </div>

  {% if logs %}
  <div class="detail-history">
    <h3 class="history-title">連絡履歴</h3>
    <ul class="history-list">
      {% for log in logs %}
      <li class="history-item">
        <span class="history-time">{{ log.time|date:"H:i" }}</span>
        <span class="history-status status-{{ log.status }}">{{ log.get_status_display }}</span>
        <span class="history-reason">{{ log.reason|linebreaksbr }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <a href="{{ previous_url }}" class="back-btn">戻る</a>

</div>
{% endblock %}